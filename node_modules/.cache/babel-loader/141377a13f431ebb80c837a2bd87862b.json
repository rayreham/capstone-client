{"ast":null,"code":"import axios from \"axios\"; // ACTION TYPES\n\nconst FETCH_ALL_STUDENTS = \"FETCH_ALL_STUDENTS\";\nconst ENROLL_STUDENT = \"ENROLL_STUDENT\"; // ACTION CREATORS\n\nconst fetchAllStudents = students => {\n  return {\n    type: FETCH_ALL_STUDENTS,\n    payload: students\n  };\n};\n\nconst enrollStudent = student => {\n  return {\n    type: ENROLL_STUDENT,\n    payload: student\n  };\n}; // THUNK CREATORS\n\n\nexport const fetchAllStudentsThunk = () => dispatch => {\n  return axios.get(\"/api/students\").then(res => res.data).then(students => dispatch(fetchAllStudents(students))).catch(err => console.log(err));\n};\nexport const enrollStudentThunk = (campusId, studentId) => dispatch => {\n  return axios.put(`/api/students/${studentId}`, {\n    campusId: campusId\n  }).then(res => res.data).then(student => dispatch(enrollStudent(student))).catch(err => console.log(err));\n}; // REDUCER\n\nconst reducer = (state = [], action) => {\n  switch (action.type) {\n    case FETCH_ALL_STUDENTS:\n      return action.payload;\n\n    case ENROLL_STUDENT:\n      return state.map(student => student.id === action.payload.id ? action.payload : student);\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["/Users/rehamghoneim/Desktop/capstone/capstone-client/src/store/utilities/allStudents.js"],"names":["axios","FETCH_ALL_STUDENTS","ENROLL_STUDENT","fetchAllStudents","students","type","payload","enrollStudent","student","fetchAllStudentsThunk","dispatch","get","then","res","data","catch","err","console","log","enrollStudentThunk","campusId","studentId","put","reducer","state","action","map","id"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,MAAMC,kBAAkB,GAAG,oBAA3B;AACA,MAAMC,cAAc,GAAG,gBAAvB,C,CAEA;;AAEA,MAAMC,gBAAgB,GAAIC,QAAD,IAAc;AACrC,SAAO;AACLC,IAAAA,IAAI,EAAEJ,kBADD;AAELK,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALD;;AAOA,MAAMG,aAAa,GAAIC,OAAD,IAAa;AACjC,SAAO;AACLH,IAAAA,IAAI,EAAEH,cADD;AAELI,IAAAA,OAAO,EAAEE;AAFJ,GAAP;AAID,CALD,C,CAOA;;;AAEA,OAAO,MAAMC,qBAAqB,GAAG,MAAOC,QAAD,IAAc;AACvD,SAAOV,KAAK,CACTW,GADI,CACA,eADA,EAEJC,IAFI,CAEEC,GAAD,IAASA,GAAG,CAACC,IAFd,EAGJF,IAHI,CAGER,QAAD,IAAcM,QAAQ,CAACP,gBAAgB,CAACC,QAAD,CAAjB,CAHvB,EAIJW,KAJI,CAIGC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAJX,CAAP;AAKD,CANM;AAQP,OAAO,MAAMG,kBAAkB,GAAG,CAACC,QAAD,EAAWC,SAAX,KAA0BX,QAAD,IAAc;AACvE,SAAOV,KAAK,CACTsB,GADI,CACC,iBAAgBD,SAAU,EAD3B,EAC8B;AAAED,IAAAA,QAAQ,EAAEA;AAAZ,GAD9B,EAEJR,IAFI,CAEEC,GAAD,IAASA,GAAG,CAACC,IAFd,EAGJF,IAHI,CAGEJ,OAAD,IAAaE,QAAQ,CAACH,aAAa,CAACC,OAAD,CAAd,CAHtB,EAIJO,KAJI,CAIGC,GAAD,IAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAJX,CAAP;AAKD,CANM,C,CAQP;;AACA,MAAMO,OAAO,GAAG,CAACC,KAAK,GAAG,EAAT,EAAaC,MAAb,KAAwB;AACtC,UAAQA,MAAM,CAACpB,IAAf;AACE,SAAKJ,kBAAL;AACE,aAAOwB,MAAM,CAACnB,OAAd;;AACF,SAAKJ,cAAL;AACE,aAAOsB,KAAK,CAACE,GAAN,CAAWlB,OAAD,IACfA,OAAO,CAACmB,EAAR,KAAeF,MAAM,CAACnB,OAAP,CAAeqB,EAA9B,GAAmCF,MAAM,CAACnB,OAA1C,GAAoDE,OAD/C,CAAP;;AAGF;AACE,aAAOgB,KAAP;AARJ;AAUD,CAXD;;AAaA,eAAeD,OAAf","sourcesContent":["import axios from \"axios\";\n\n// ACTION TYPES\nconst FETCH_ALL_STUDENTS = \"FETCH_ALL_STUDENTS\";\nconst ENROLL_STUDENT = \"ENROLL_STUDENT\";\n\n// ACTION CREATORS\n\nconst fetchAllStudents = (students) => {\n  return {\n    type: FETCH_ALL_STUDENTS,\n    payload: students,\n  };\n};\n\nconst enrollStudent = (student) => {\n  return {\n    type: ENROLL_STUDENT,\n    payload: student,\n  };\n};\n\n// THUNK CREATORS\n\nexport const fetchAllStudentsThunk = () => (dispatch) => {\n  return axios\n    .get(\"/api/students\")\n    .then((res) => res.data)\n    .then((students) => dispatch(fetchAllStudents(students)))\n    .catch((err) => console.log(err));\n};\n\nexport const enrollStudentThunk = (campusId, studentId) => (dispatch) => {\n  return axios\n    .put(`/api/students/${studentId}`, { campusId: campusId })\n    .then((res) => res.data)\n    .then((student) => dispatch(enrollStudent(student)))\n    .catch((err) => console.log(err));\n};\n\n// REDUCER\nconst reducer = (state = [], action) => {\n  switch (action.type) {\n    case FETCH_ALL_STUDENTS:\n      return action.payload;\n    case ENROLL_STUDENT:\n      return state.map((student) =>\n        student.id === action.payload.id ? action.payload : student\n      );\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}